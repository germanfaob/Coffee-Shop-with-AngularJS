<!DOCTYPE html>
<html lang = "en">
<head>
<meta charset = "UTF-8" name = "viewport" content = "width=device-width, initial-scale=1" />
<title>Shopping Cart</title>
<link rel = "stylesheet" type = "text/css" href = "https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
<link rel="stylesheet" href="./shoppingCart.css">
<script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
</head>
<body ng-app="shoppingcart" ng-controller="shoppingCTR">
    <nav>
        <ul>
            <li id="active"><a href="#/!">Home</a></li>
            <li><a href="#">Product</a></li>
            <li><a href="#">Contact</a></li>
            <li><a href="./shoppingCart.html"><i class="fas fa-shopping-cart"></i></a></li>
        </ul>
    </nav>
     
    <div class="container">
        <div class="row">
            <h3 class = "text-primary">Shopping Cart</h3>
            <hr style = "border-top:1px dotted #ccc;"/>
            <div id = "bg-background" class="col-8">
                <h4>PRODUCTS<h4>
                <hr style = "border-top:1px groovy #ccc;">
                <div id = "product">
                    <div id = "p_list" ng-repeat = "product in products ">
                        <span style="font-size:16px;">{{product.p_name}}</span>
                        <center><img ng-src = "{{product.p_image}}"/></center>
                        <div><label style="font-size:14px;">Price: ${{product.p_price}}</label></div>
                        <center><button type = "button" class="btn btn-primary" ng-click = "add_cart(product)"> Add to cart</button></center>
                    </div>
                </div>
            </div>

            <div class="col-4 side-bar" style="border: 2px solid lime;">
                <div class = "panel panel-primary">
                    <div class = "panel-heading">
                        <h5>MY CART</h5>
                    </div>
                    <div class = "panel-body table-responsive">
                        <table class = "table">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Price</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat = "cart in carts" ng-init = "setTotals(cart)">
                                    <td>{{cart.p_name}}</td>
                                    <td>${{cart.p_price}}</td>
                                    <td><button type = "button" ng-click = "remove_cart(cart)" class = "btn btn-danger"> X</button></td>
                                </tr>
                                <tr>
                                    <td align = "right">Total</td>
                                    <td>${{total}}</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="progress-container">
                            <span class="progress-bar" id="myBar"></span>
                        </div>
                        <button class="add-item" type="button">ADD</button>
                    </div>
                </div>

                <h5>USER INFORMATION</h5>
                <div class="form-group">
                    <label for="exampleInputfname1">First Name</label>
                    <input type="text" class="form-control" id="exampleInputfname1" aria-describedby="fnameHelp" placeholder="Enter Your First Name" required>
                </div>
                <div class="form-group">
                    <label for="exampleInputlname1">Last Name</label>
                    <input type="text" class="form-control" id="exampleInputlname1" aria-describedby="lnameHelp" placeholder="Enter email" required>
                </div>
                <div class="form-group">
                    <label for="exampleInputEmail1">Email address</label>
                    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email" required>
                    <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
                </div>
                <div class="form-group">
                    <label for="exampleInputPhoneNum1">Phone Number</label>
                    <input type="tel" class="form-control" id="exampleInputPhoneNum1" placeholder="Enter Your Phone Number" required>
                    <small id="emailHelp" class="form-text text-muted">We'll never share your phone number with anyone else.</small>
                </div>
                <div class="form-group">
                    <label for="exampleInputAddress1">Home Address</label>
                    <input type="text" class="form-control" id="exampleInputAddress1" placeholder="Enter Home Address" required>
                    <small id="emailHelp" class="form-text text-muted">We'll never share your address with anyone else.</small>
                </div>
                <button type="submit" class="btn btn-primary" onclick="writeCookie()">Submit Your Information</button>
            </div>
        </div>
    </div>
    <script src="/shoppingCart.js"></script>
</body>   
</html>